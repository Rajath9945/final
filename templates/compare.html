<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Compare Sessions</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-slate-900 text-white min-h-screen p-10">

<a href="/" class="underline mb-6 block">&larr; Back to Sessions</a>

<h1 class="text-4xl font-extrabold text-center mb-2">ðŸ“ˆ Session Comparison</h1>
<p class="text-center text-slate-300 mb-6">
    Comparing
    <span class="font-mono bg-white/10 px-2 py-1 rounded-lg">{{ s1.session_id }}</span>
    vs
    <span class="font-mono bg-white/10 px-2 py-1 rounded-lg">{{ s2.session_id }}</span>
</p>

<div class="max-w-5xl mx-auto bg-white/10 p-6 rounded-3xl shadow-xl">
    <canvas id="compareChart"></canvas>
</div>

<script>
    const labels = {{ labels | tojson }};
    const s1_vals = {{ s1_vals | tojson }};
    const s2_vals = {{ s2_vals | tojson }};

    new Chart(document.getElementById("compareChart"), {
        type: "line",
        data: {
            labels: labels,
            datasets: [
                {
                    label: "{{ s1.session_id }}",
                    data: s1_vals,
                    borderColor: "#60a5fa",
                    backgroundColor: "rgba(96,165,250,0.3)",
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true
                },
                {
                    label: "{{ s2.session_id }}",
                    data: s2_vals,
                    borderColor: "#f97373",
                    backgroundColor: "rgba(248,115,115,0.3)",
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            animation: { duration: 2000, easing: "easeInOutQuad" },
            scales: { y: { beginAtZero: true } }
        }
    });
</script>

</body>
</html>
